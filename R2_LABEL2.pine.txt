# Pine Script ìº”ë“¤-ë ˆì´ë¸” ìˆ˜ì§ì„  ì—°ê²° ì™„ë²½ ì˜¤ë¥˜ ê°€ì´ë“œ
## í†µí•© ë©”íƒ€ íŒŒì¼ (v1.0)

> **ëª©ì **: ìº”ë“¤ê³¼ ë ˆì´ë¸”ì„ ìˆ˜ì§ í°ìƒ‰ì„ ìœ¼ë¡œ ì—°ê²°í•˜ê³  ê³ ì •í•  ë•Œ ë°œìƒ ê°€ëŠ¥í•œ ëª¨ë“  ì˜¤ë¥˜ ìœ í˜•ê³¼ í•´ê²°ì±…ì„ ì²´ê³„ì ìœ¼ë¡œ ì •ë¦¬

---

# ğŸ“š ëª©ì°¨

1. [line.new() í•¨ìˆ˜ ê´€ë ¨ ì˜¤ë¥˜](#1ï¸âƒ£-linenew-í•¨ìˆ˜-ê´€ë ¨-ì˜¤ë¥˜)
2. [ë¦¬í˜ì¸íŒ… ë° ê³ ì • ì˜¤ë¥˜](#2ï¸âƒ£-ë¦¬í˜ì¸íŒ…-ë°-ê³ ì •-ì˜¤ë¥˜)
3. [ìµœëŒ€ ê°œìˆ˜ ì œí•œ ì˜¤ë¥˜](#3ï¸âƒ£-ìµœëŒ€-ê°œìˆ˜-ì œí•œ-ì˜¤ë¥˜)
4. [ì¢Œí‘œ ê³„ì‚° ì˜¤ë¥˜](#4ï¸âƒ£-ì¢Œí‘œ-ê³„ì‚°-ì˜¤ë¥˜)
5. [ìŠ¤íƒ€ì¼ ë° í‘œì‹œ ì˜¤ë¥˜](#5ï¸âƒ£-ìŠ¤íƒ€ì¼-ë°-í‘œì‹œ-ì˜¤ë¥˜)
6. [ë ˆì´ë¸”ê³¼ ë¼ì¸ ì—°ë™ ì˜¤ë¥˜](#6ï¸âƒ£-ë ˆì´ë¸”ê³¼-ë¼ì¸-ì—°ë™-ì˜¤ë¥˜)
7. [ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ì˜¤ë¥˜](#7ï¸âƒ£-ì‹¤ì‹œê°„-ì—…ë°ì´íŠ¸-ì˜¤ë¥˜)
8. [MTF(ë‹¤ì¤‘ íƒ€ì„í”„ë ˆì„) ì˜¤ë¥˜](#8ï¸âƒ£-mtfë‹¤ì¤‘-íƒ€ì„í”„ë ˆì„-ì˜¤ë¥˜)
9. [ì¡°ê±´ë¬¸ ë¡œì§ ì˜¤ë¥˜](#9ï¸âƒ£-ì¡°ê±´ë¬¸-ë¡œì§-ì˜¤ë¥˜)
10. [ì„±ëŠ¥ ë° ìµœì í™” ì˜¤ë¥˜](#ğŸ”Ÿ-ì„±ëŠ¥-ë°-ìµœì í™”-ì˜¤ë¥˜)
11. [ë²„ì „ í˜¸í™˜ì„± ì˜¤ë¥˜](#1ï¸âƒ£1ï¸âƒ£-ë²„ì „-í˜¸í™˜ì„±-ì˜¤ë¥˜)
12. [íƒ€ì… ì„ ì–¸ ì˜¤ë¥˜](#1ï¸âƒ£2ï¸âƒ£-íƒ€ì…-ì„ ì–¸-ì˜¤ë¥˜)
13. [ë°°ì—´ ê´€ë¦¬ ì˜¤ë¥˜](#1ï¸âƒ£3ï¸âƒ£-ë°°ì—´-ê´€ë¦¬-ì˜¤ë¥˜)
14. [í•¨ìˆ˜ ìŠ¤ì½”í”„ ì˜¤ë¥˜](#1ï¸âƒ£4ï¸âƒ£-í•¨ìˆ˜-ìŠ¤ì½”í”„-ì˜¤ë¥˜)
15. [ì¡°ê±´ë¶€ ì‹¤í–‰ ì˜¤ë¥˜](#1ï¸âƒ£5ï¸âƒ£-ì¡°ê±´ë¶€-ì‹¤í–‰-ì˜¤ë¥˜)
16. [ë°©í–¥ì„± ì˜¤ë¥˜ (Buy/Sell êµ¬ë¶„)](#1ï¸âƒ£6ï¸âƒ£-ë°©í–¥ì„±-ì˜¤ë¥˜-buysell-êµ¬ë¶„)
17. [ì¢Œí‘œ ì°¸ì¡°ì  ì˜¤ë¥˜](#1ï¸âƒ£7ï¸âƒ£-ì¢Œí‘œ-ì°¸ì¡°ì -ì˜¤ë¥˜)
18. [ì˜¤í”„ì…‹ ê³„ì‚° ì˜¤ë¥˜](#1ï¸âƒ£8ï¸âƒ£-ì˜¤í”„ì…‹-ê³„ì‚°-ì˜¤ë¥˜)
19. [ì‹œê°„ ê¸°ë°˜ ì˜¤ë¥˜](#1ï¸âƒ£9ï¸âƒ£-ì‹œê°„-ê¸°ë°˜-ì˜¤ë¥˜)
20. [ì°¨íŠ¸ ìœ í˜•ë³„ ì˜¤ë¥˜](#2ï¸âƒ£0ï¸âƒ£-ì°¨íŠ¸-ìœ í˜•ë³„-ì˜¤ë¥˜)
21. [ë‹¤ì¤‘ ì‹¬ë³¼ ì˜¤ë¥˜](#2ï¸âƒ£1ï¸âƒ£-ë‹¤ì¤‘-ì‹¬ë³¼-ì˜¤ë¥˜)
22. [ë©”ëª¨ë¦¬ ë° ì„±ëŠ¥ ì˜¤ë¥˜](#2ï¸âƒ£2ï¸âƒ£-ë©”ëª¨ë¦¬-ë°-ì„±ëŠ¥-ì˜¤ë¥˜)
23. [ì‹œê°ì  ê²¹ì¹¨ ì˜¤ë¥˜](#2ï¸âƒ£3ï¸âƒ£-ì‹œê°ì -ê²¹ì¹¨-ì˜¤ë¥˜)
24. [ì¡°ê±´ ì¶©ëŒ ì˜¤ë¥˜](#2ï¸âƒ£4ï¸âƒ£-ì¡°ê±´-ì¶©ëŒ-ì˜¤ë¥˜)
25. [ë””ë²„ê¹… ê´€ë ¨ ì˜¤ë¥˜](#2ï¸âƒ£5ï¸âƒ£-ë””ë²„ê¹…-ê´€ë ¨-ì˜¤ë¥˜)
26. [ë³µí•© ê°ì²´ ê´€ë¦¬ ì˜¤ë¥˜](#2ï¸âƒ£6ï¸âƒ£-ë³µí•©-ê°ì²´-ê´€ë¦¬-ì˜¤ë¥˜)
27. [ì™„ë²½í•œ êµ¬í˜„ í…œí”Œë¦¿](#ğŸ“‹-ì™„ë²½í•œ-êµ¬í˜„-í…œí”Œë¦¿)
28. [ì˜¤ë¥˜ ë¹ ë¥¸ ì°¸ì¡°í‘œ](#ğŸ“Š-ì˜¤ë¥˜-ìœ í˜•ë³„-ë¹ ë¥¸-ì°¸ì¡°í‘œ)
29. [íŠ¸ëŸ¬ë¸”ìŠˆíŒ… í”Œë¡œìš°ì°¨íŠ¸](#ğŸ”§-íŠ¸ëŸ¬ë¸”ìŠˆíŒ…-í”Œë¡œìš°ì°¨íŠ¸)

---

# 1ï¸âƒ£ line.new() í•¨ìˆ˜ ê´€ë ¨ ì˜¤ë¥˜

## ì˜¤ë¥˜ #01: ì¢Œí‘œ ì‹œìŠ¤í…œ ë¶ˆì¼ì¹˜

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
line.new(bar_index, low, bar_index, labelY, xloc=xloc.bar_time)
// ì˜¤ë¥˜: bar_indexì™€ xloc.bar_time ë¶ˆì¼ì¹˜
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
line.new(bar_index, low, bar_index, labelY, 
    xloc=xloc.bar_index, 
    yloc=yloc.price)
```

### ğŸ’¡ ì„¤ëª…
- `bar_index`ëŠ” ì •ìˆ˜ ì¸ë±ìŠ¤, `xloc.bar_time`ì€ íƒ€ì„ìŠ¤íƒ¬í”„ ê¸°ëŒ€
- í•­ìƒ ì¢Œí‘œ íƒ€ì…ê³¼ xloc ì„¤ì •ì„ ì¼ì¹˜ì‹œì¼œì•¼ í•¨

---

## ì˜¤ë¥˜ #02: ê°™ì€ ì¢Œí‘œ ì—°ê²°

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
line.new(bar_index, low, bar_index, low)
// ì˜¤ë¥˜: ì‹œì‘ì ê³¼ ëì ì´ ê°™ì•„ì„œ ì„ ì´ ì•ˆ ë³´ì„
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
line.new(bar_index, low, bar_index, low - atr * 0.5)
```

### ğŸ’¡ ì„¤ëª…
- Y1ê³¼ Y2ê°€ ê°™ìœ¼ë©´ ê¸¸ì´ê°€ 0ì¸ ì ì´ ë¨
- ìµœì†Œí•œì˜ ì˜¤í”„ì…‹ í•„ìš”

---

## ì˜¤ë¥˜ #03: extend ì†ì„± ì˜ëª» ì‚¬ìš©

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
line.new(x1, y1, x2, y2, extend=extend.both)
// ì˜¤ë¥˜: ìˆ˜ì§ì„ ì´ ë¬´í•œ ì—°ì¥ë˜ì–´ ì°¨íŠ¸ ì „ì²´ë¥¼ ê°€ë¡œì§€ë¦„
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
line.new(x1, y1, x2, y2, extend=extend.none)
```

### ğŸ’¡ ì„¤ëª…
- ìˆ˜ì§ì„ ì— `extend.both`ë‚˜ `extend.left/right` ì‚¬ìš© ì‹œ í™”ë©´ ì „ì²´ ì°¨ì§€
- ìº”ë“¤-ë ˆì´ë¸” ì—°ê²°ì„ ì€ í•­ìƒ `extend.none`

---

# 2ï¸âƒ£ ë¦¬í˜ì¸íŒ… ë° ê³ ì • ì˜¤ë¥˜

## ì˜¤ë¥˜ #04: barstate ì²´í¬ ì—†ìŒ

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
if buySignal
    line.new(bar_index, low, bar_index, labelY)
// ì˜¤ë¥˜: ìº”ë“¤ ì§„í–‰ ì¤‘ ê³„ì† ìƒì„±/ì‚­ì œë˜ì–´ ê¹œë¹¡ì„
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
if buySignal and barstate.isconfirmed
    line.new(bar_index, low, bar_index, labelY)
```

### ğŸ’¡ ì„¤ëª…
- ì‹¤ì‹œê°„ ë°”ì—ì„œëŠ” ì¡°ê±´ì´ true/false ë°˜ë³µ ê°€ëŠ¥
- `barstate.isconfirmed`ë¡œ í™•ì •ëœ ë°”ì—ì„œë§Œ ìƒì„±

---

## ì˜¤ë¥˜ #05: var ì—†ì´ ë¼ì¸ ì €ì¥

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
tempLine = na
if buySignal
    tempLine := line.new(...)
// ì˜¤ë¥˜: ë‹¤ìŒ ë°”ì—ì„œ tempLine ê°’ ì‚¬ë¼ì§
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
var line tempLine = na
if buySignal
    if not na(tempLine)
        line.delete(tempLine)
    tempLine := line.new(...)
```

### ğŸ’¡ ì„¤ëª…
- `var` ì—†ì´ ì„ ì–¸í•˜ë©´ ë§¤ ë°”ë§ˆë‹¤ ì´ˆê¸°í™”
- ë¼ì¸ ID ìœ ì§€í•˜ë ¤ë©´ ë°˜ë“œì‹œ `var` ì‚¬ìš©

---

# 3ï¸âƒ£ ìµœëŒ€ ê°œìˆ˜ ì œí•œ ì˜¤ë¥˜

## ì˜¤ë¥˜ #06: max_lines_count ì„¤ì • ì—†ìŒ

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
indicator("My Script", overlay=true)
// ì˜¤ë¥˜: ê¸°ë³¸ê°’ 50ê°œë¡œ ì œí•œ, ì´ˆê³¼ ì‹œ ì´ì „ ì„  ì‚­ì œë¨
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
indicator("My Script", overlay=true, max_lines_count=500)
```

### ğŸ’¡ ì„¤ëª…
- Pine Script ê¸°ë³¸ ë¼ì¸ ì œí•œì€ 50ê°œ
- ìµœëŒ€ 500ê°œê¹Œì§€ ì„¤ì • ê°€ëŠ¥

---

## ì˜¤ë¥˜ #07: ë¼ì¸ ëˆ„ì ìœ¼ë¡œ ë©”ëª¨ë¦¬ ì´ˆê³¼

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
if buySignal
    line.new(...)  // ê³„ì† ìƒì„±ë§Œ í•˜ê³  ì‚­ì œ ì•ˆí•¨
// ì˜¤ë¥˜: 500ê°œ ì œí•œ ë„ë‹¬ ì‹œ ì˜¤ë˜ëœ ì„  ìë™ ì‚­ì œ
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
var line[] lines = array.new_line()

if buySignal and barstate.isconfirmed
    if array.size(lines) >= 100
        oldLine = array.shift(lines)
        line.delete(oldLine)
    array.push(lines, line.new(...))
```

### ğŸ’¡ ì„¤ëª…
- ëª…ì‹œì  ê´€ë¦¬ ì—†ìœ¼ë©´ FIFOë¡œ ìë™ ì‚­ì œë¨
- ë°°ì—´ë¡œ ì§ì ‘ ê´€ë¦¬í•˜ì—¬ ì˜ˆì¸¡ ê°€ëŠ¥í•œ ë™ì‘ ë³´ì¥

---

# 4ï¸âƒ£ ì¢Œí‘œ ê³„ì‚° ì˜¤ë¥˜

## ì˜¤ë¥˜ #08: Yì¢Œí‘œ ë²”ìœ„ ì´ˆê³¼

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
labelY = low - atr * 100
line.new(bar_index, low, bar_index, labelY)
// ì˜¤ë¥˜: ë¼ë²¨ì´ ì°¨íŠ¸ ë°–ìœ¼ë¡œ ë‚˜ê°€ì„œ ì•ˆ ë³´ì„
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
labelY = low - math.min(atr * 0.5, low * 0.02)
line.new(bar_index, low, bar_index, labelY)
```

### ğŸ’¡ ì„¤ëª…
- ATR ìŠ¹ìˆ˜ê°€ ë„ˆë¬´ í¬ë©´ í™”ë©´ ë°–ìœ¼ë¡œ ë‚˜ê°
- ê°€ê²©ì˜ ì¼ì • ë¹„ìœ¨ë¡œ ì œí•œí•˜ëŠ” ê²ƒì´ ì•ˆì „

---

## ì˜¤ë¥˜ #09: na ê°’ ì²˜ë¦¬ ì—†ìŒ

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
labelY = low - atr * 0.5
line.new(bar_index, low, bar_index, labelY)
// ì˜¤ë¥˜: atrì´ naì¼ ê²½ìš° ì„ ì´ ì•ˆ ê·¸ë ¤ì§
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
labelY = low - (na(atr) ? close * 0.01 : atr * 0.5)
if not na(labelY)
    line.new(bar_index, low, bar_index, labelY)
```

### ğŸ’¡ ì„¤ëª…
- ì´ˆê¸° ë°”ì—ì„œ ATR ë“± ì§€í‘œê°’ì´ naì¼ ìˆ˜ ìˆìŒ
- í•­ìƒ na ì²´í¬ ë° ëŒ€ì²´ê°’ ì œê³µ

---

# 5ï¸âƒ£ ìŠ¤íƒ€ì¼ ë° í‘œì‹œ ì˜¤ë¥˜

## ì˜¤ë¥˜ #10: ìƒ‰ìƒ íˆ¬ëª…ë„ 100%

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
line.new(..., color=color.new(color.white, 100))
// ì˜¤ë¥˜: ì™„ì „ íˆ¬ëª…í•´ì„œ ì•ˆ ë³´ì„
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
line.new(..., color=color.new(color.white, 0))
```

### ğŸ’¡ ì„¤ëª…
- íˆ¬ëª…ë„ 100 = ì™„ì „ íˆ¬ëª… (ì•ˆ ë³´ì„)
- íˆ¬ëª…ë„ 0 = ë¶ˆíˆ¬ëª… (ì™„ì „íˆ ë³´ì„)

---

## ì˜¤ë¥˜ #11: width 0 ì„¤ì •

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
line.new(..., width=0)
// ì˜¤ë¥˜: ì„  ë‘ê»˜ 0ì´ë¼ ì•ˆ ë³´ì„
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
line.new(..., width=1)
```

### ğŸ’¡ ì„¤ëª…
- widthëŠ” ìµœì†Œ 1 ì´ìƒì´ì–´ì•¼ í‘œì‹œë¨

---

## ì˜¤ë¥˜ #12: style ì˜ëª» ì§€ì •

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
line.new(..., style="solid")
// ì˜¤ë¥˜: ë¬¸ìì—´ì´ ì•„ë‹Œ ìƒìˆ˜ ì‚¬ìš©í•´ì•¼ í•¨
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
line.new(..., style=line.style_solid)
```

### ğŸ’¡ ì„¤ëª…
- ìŠ¤íƒ€ì¼ì€ ë‚´ì¥ ìƒìˆ˜ ì‚¬ìš©: `line.style_solid`, `line.style_dashed`, `line.style_dotted`

---

# 6ï¸âƒ£ ë ˆì´ë¸”ê³¼ ë¼ì¸ ì—°ë™ ì˜¤ë¥˜

## ì˜¤ë¥˜ #13: ë¼ë²¨ê³¼ ë¼ì¸ ìœ„ì¹˜ ë¶ˆì¼ì¹˜

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
label.new(bar_index, labelY, ...)
line.new(bar_index, low, bar_index, low - atr)
// ì˜¤ë¥˜: ë¼ë²¨ ìœ„ì¹˜ì™€ ì„  ëì ì´ ë‹¤ë¦„
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
labelY = low - atr * 0.5
label.new(bar_index, labelY, ...)
line.new(bar_index, low, bar_index, labelY)
```

### ğŸ’¡ ì„¤ëª…
- ë¼ë²¨ Yì¢Œí‘œì™€ ë¼ì¸ì˜ Y2ê°€ ë™ì¼í•´ì•¼ ì—°ê²°ë¨

---

## ì˜¤ë¥˜ #14: ë¼ë²¨ê³¼ ë¼ì¸ ìƒì„± ì¡°ê±´ ë¶ˆì¼ì¹˜

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
if buySignal
    label.new(...)
if buySignal and volume > 1000
    line.new(...)
// ì˜¤ë¥˜: ë¼ë²¨ì€ ìˆëŠ”ë° ì„ ì€ ì—†ëŠ” ê²½ìš° ë°œìƒ
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
if buySignal and barstate.isconfirmed
    label.new(...)
    line.new(...)
```

### ğŸ’¡ ì„¤ëª…
- ë¼ë²¨ê³¼ ë¼ì¸ì€ í•­ìƒ ê°™ì€ ì¡°ê±´ì—ì„œ ìŒìœ¼ë¡œ ìƒì„±

---

# 7ï¸âƒ£ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ì˜¤ë¥˜

## ì˜¤ë¥˜ #15: line.set_xy ì˜ëª» ì‚¬ìš©

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
var line myLine = line.new(...)
if not barstate.isconfirmed
    line.set_xy1(myLine, bar_index, low)
// ì˜¤ë¥˜: ë§¤ í‹±ë§ˆë‹¤ í˜¸ì¶œë˜ì–´ ì„±ëŠ¥ ì €í•˜
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
var line myLine = na
if not barstate.isconfirmed
    if not na(myLine)
        line.delete(myLine)
    myLine := line.new(...)
```

### ğŸ’¡ ì„¤ëª…
- ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ì‹œ ì‚­ì œ í›„ ì¬ìƒì„±ì´ ë” íš¨ìœ¨ì 

---

## ì˜¤ë¥˜ #16: ë¼ì¸ ì‚­ì œ ì—†ì´ ìƒˆë¡œ ìƒì„±

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
var line tempLine = na
if condition
    tempLine := line.new(...)
// ì˜¤ë¥˜: ê¸°ì¡´ ë¼ì¸ ì•ˆ ì§€ìš°ê³  ê³„ì† ìƒì„±
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
var line tempLine = na
if condition
    if not na(tempLine)
        line.delete(tempLine)
    tempLine := line.new(...)
```

### ğŸ’¡ ì„¤ëª…
- ê¸°ì¡´ ë¼ì¸ ì‚­ì œí•˜ì§€ ì•Šìœ¼ë©´ ëˆ„ì ë˜ì–´ ì œí•œ ì´ˆê³¼

---

# 8ï¸âƒ£ MTF(ë‹¤ì¤‘ íƒ€ì„í”„ë ˆì„) ì˜¤ë¥˜

## ì˜¤ë¥˜ #17: request.securityì™€ line í˜¼ìš©

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
htfLow = request.security(syminfo.tickerid, "60", low)
line.new(bar_index, htfLow, bar_index, labelY)
// ì˜¤ë¥˜: HTF ë°ì´í„°ì™€ í˜„ì¬ íƒ€ì„í”„ë ˆì„ bar_index ë¶ˆì¼ì¹˜
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
// í˜„ì¬ íƒ€ì„í”„ë ˆì„ ë°ì´í„°ë§Œ ì‚¬ìš©
line.new(bar_index, low, bar_index, labelY)
```

### ğŸ’¡ ì„¤ëª…
- HTF ë°ì´í„°ì˜ bar_indexëŠ” í˜„ì¬ ì°¨íŠ¸ì™€ ë‹¤ë¦„
- ë¼ì¸ì€ í˜„ì¬ íƒ€ì„í”„ë ˆì„ ë°ì´í„°ë§Œ ì‚¬ìš© ê¶Œì¥

---

# 9ï¸âƒ£ ì¡°ê±´ë¬¸ ë¡œì§ ì˜¤ë¥˜

## ì˜¤ë¥˜ #18: ì¤‘ì²© ifë¬¸ì—ì„œ ë¼ì¸ ìƒì„±

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
if condition1
    if condition2
        line.new(...)
    label.new(...)
// ì˜¤ë¥˜: ë¼ë²¨ì€ ìƒì„±ë˜ì§€ë§Œ ë¼ì¸ì€ condition2 ë§Œì¡±ì‹œë§Œ ìƒì„±
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
if condition1 and condition2
    line.new(...)
    label.new(...)
```

### ğŸ’¡ ì„¤ëª…
- ë¼ë²¨ê³¼ ë¼ì¸ ìƒì„± ì¡°ê±´ì´ ë‹¤ë¥´ë©´ ì§ì´ ì•ˆ ë§ìŒ

---

## ì˜¤ë¥˜ #19: ê³¼ê±° ë°”ì— ë¼ì¸ ê·¸ë¦¬ê¸°

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
if buySignal[1]
    line.new(bar_index[1], low[1], bar_index[1], labelY)
// ì˜¤ë¥˜: íˆìŠ¤í† ë¦¬ ì°¸ì¡°ë¡œ ì¸í•œ ì˜ˆìƒ ì™¸ ë™ì‘
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
if buySignal and barstate.isconfirmed
    line.new(bar_index, low, bar_index, labelY)
```

### ğŸ’¡ ì„¤ëª…
- ì‹ í˜¸ ë°œìƒ ì‹œì ì˜ í˜„ì¬ ë°”ì—ì„œ ìƒì„±í•˜ëŠ” ê²ƒì´ ì•ˆì „

---

# ğŸ”Ÿ ì„±ëŠ¥ ë° ìµœì í™” ì˜¤ë¥˜

## ì˜¤ë¥˜ #20: ë§¤ ë°”ë§ˆë‹¤ ëª¨ë“  ë¼ì¸ ì¬ìƒì„±

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
for i = 0 to 499
    line.new(bar_index - i, close[i], bar_index - i, open[i])
// ì˜¤ë¥˜: ë§¤ìš° ëŠë¦¬ê³  íƒ€ì„ì•„ì›ƒ ë°œìƒ
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
if buySignal and barstate.isconfirmed
    line.new(bar_index, close, bar_index, labelY)
```

### ğŸ’¡ ì„¤ëª…
- ì¡°ê±´ ì¶©ì¡± ì‹œì—ë§Œ ìƒì„±
- ë¶ˆí•„ìš”í•œ ë°˜ë³µ ìƒì„± í”¼í•˜ê¸°

---

# 1ï¸âƒ£1ï¸âƒ£ ë²„ì „ í˜¸í™˜ì„± ì˜¤ë¥˜

## ì˜¤ë¥˜ #21: Pine Script ë²„ì „ ë¯¸ì§€ì •

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
indicator("My Script", overlay=true)
line.new(bar_index, low, bar_index, labelY)
// ì˜¤ë¥˜: v4 ì´í•˜ì—ì„œëŠ” line.new() ë¬¸ë²•ì´ ë‹¤ë¦„
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
//@version=5
indicator("My Script", overlay=true, max_lines_count=500)
line.new(bar_index, low, bar_index, labelY)
```

### ğŸ’¡ ì„¤ëª…
- í•­ìƒ `//@version=5` ëª…ì‹œ
- v5 ë¬¸ë²•ê³¼ ê¸°ëŠ¥ ì‚¬ìš© ë³´ì¥

---

## ì˜¤ë¥˜ #22: v4 ë¬¸ë²•ì„ v5ì—ì„œ ì‚¬ìš©

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
//@version=5
line.new(bar_index, low, bar_index, labelY, 
    color=color.white, 
    transp=50)  // v5ì—ì„œ transp ì œê±°ë¨
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
//@version=5
line.new(bar_index, low, bar_index, labelY, 
    color=color.new(color.white, 50))
```

### ğŸ’¡ ì„¤ëª…
- v5ì—ì„œ `transp` íŒŒë¼ë¯¸í„° ì œê±°ë¨
- `color.new(ìƒ‰ìƒ, íˆ¬ëª…ë„)` ì‚¬ìš©

---

# 1ï¸âƒ£2ï¸âƒ£ íƒ€ì… ì„ ì–¸ ì˜¤ë¥˜

## ì˜¤ë¥˜ #23: íƒ€ì… ë¶ˆì¼ì¹˜

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
var int myLine = na
myLine := line.new(bar_index, low, bar_index, labelY)
// ì˜¤ë¥˜: int íƒ€ì…ì— line í• ë‹¹ ë¶ˆê°€
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
var line myLine = na
myLine := line.new(bar_index, low, bar_index, labelY)
```

### ğŸ’¡ ì„¤ëª…
- ë¼ì¸ IDëŠ” `line` íƒ€ì…ìœ¼ë¡œ ì„ ì–¸

---

## ì˜¤ë¥˜ #24: series vs simple íƒ€ì… í˜¼ë™

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
lineColor = close > open ? color.green : color.red
line.new(bar_index, low, bar_index, labelY, color=lineColor)
// ê²½ê³ : series color ê´€ë ¨ ë¬¸ì œ ê°€ëŠ¥
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
lineColor = close > open ? color.green : color.red
line.new(bar_index, low, bar_index, labelY, 
    color=color.new(lineColor, 0))
```

### ğŸ’¡ ì„¤ëª…
- ë™ì  ìƒ‰ìƒì€ `color.new()`ë¡œ ë˜í•‘í•˜ë©´ ì•ˆì „

---

# 1ï¸âƒ£3ï¸âƒ£ ë°°ì—´ ê´€ë¦¬ ì˜¤ë¥˜

## ì˜¤ë¥˜ #25: ë°°ì—´ ì´ˆê¸°í™” ìœ„ì¹˜ ì˜¤ë¥˜

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
if buySignal
    var line[] lineArray = array.new_line()  // varê°€ ifë¬¸ ì•ˆì—
    array.push(lineArray, line.new(...))
// ì˜¤ë¥˜: ì¡°ê±´ë¬¸ ë‚´ var ì„ ì–¸ìœ¼ë¡œ ì˜ˆìƒ ì™¸ ë™ì‘
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
var line[] lineArray = array.new_line()  // ì „ì—­ ìŠ¤ì½”í”„
if buySignal
    array.push(lineArray, line.new(...))
```

### ğŸ’¡ ì„¤ëª…
- ë°°ì—´ ì„ ì–¸ì€ í•­ìƒ ì „ì—­ ìŠ¤ì½”í”„ì—ì„œ `var`ì™€ í•¨ê»˜

---

## ì˜¤ë¥˜ #26: ë¹ˆ ë°°ì—´ì—ì„œ ìš”ì†Œ ì ‘ê·¼

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
var line[] lineArray = array.new_line()
lastLine = array.get(lineArray, 0)  // ë¹ˆ ë°°ì—´
line.delete(lastLine)
// ì˜¤ë¥˜: ëŸ°íƒ€ì„ ì—ëŸ¬
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
var line[] lineArray = array.new_line()
if array.size(lineArray) > 0
    lastLine = array.get(lineArray, 0)
    line.delete(lastLine)
```

### ğŸ’¡ ì„¤ëª…
- ë°°ì—´ ì ‘ê·¼ ì „ í•­ìƒ size ì²´í¬

---

## ì˜¤ë¥˜ #27: ë°°ì—´ ì¸ë±ìŠ¤ ë²”ìœ„ ì´ˆê³¼

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
var line[] lineArray = array.new_line()
for i = 0 to 100
    line.delete(array.get(lineArray, i))
// ì˜¤ë¥˜: ë°°ì—´ í¬ê¸°ë³´ë‹¤ í° ì¸ë±ìŠ¤
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
var line[] lineArray = array.new_line()
for i = 0 to array.size(lineArray) - 1
    line.delete(array.get(lineArray, i))
array.clear(lineArray)
```

### ğŸ’¡ ì„¤ëª…
- ë°˜ë³µ ë²”ìœ„ëŠ” `array.size() - 1`ê¹Œì§€

---

# 1ï¸âƒ£4ï¸âƒ£ í•¨ìˆ˜ ìŠ¤ì½”í”„ ì˜¤ë¥˜

## ì˜¤ë¥˜ #28: í•¨ìˆ˜ ë‚´ var ì‚¬ìš©

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
drawLine() =>
    var line myLine = na  // í•¨ìˆ˜ ë‚´ var
    myLine := line.new(bar_index, low, bar_index, labelY)
    myLine
// ì˜¤ë¥˜: ì˜ˆìƒê³¼ ë‹¤ë¥´ê²Œ ë™ì‘
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
var line myLine = na  // ì „ì—­ ì„ ì–¸

drawLine() =>
    if not na(myLine)
        line.delete(myLine)
    line.new(bar_index, low, bar_index, labelY)

if buySignal
    myLine := drawLine()
```

### ğŸ’¡ ì„¤ëª…
- ìƒíƒœ ìœ ì§€ê°€ í•„ìš”í•œ ë³€ìˆ˜ëŠ” ì „ì—­ì—ì„œ ì„ ì–¸

---

## ì˜¤ë¥˜ #29: í•¨ìˆ˜ ë°˜í™˜ê°’ ë¬´ì‹œ

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
drawLine() =>
    line.new(bar_index, low, bar_index, labelY)

if buySignal
    drawLine()  // ë°˜í™˜ê°’ ì €ì¥ ì•ˆí•¨
// ì˜¤ë¥˜: ë‚˜ì¤‘ì— ìˆ˜ì •/ì‚­ì œ ë¶ˆê°€
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
var line myLine = na

drawLine() =>
    line.new(bar_index, low, bar_index, labelY)

if buySignal
    if not na(myLine)
        line.delete(myLine)
    myLine := drawLine()
```

### ğŸ’¡ ì„¤ëª…
- ë¼ì¸ IDë¥¼ ë³€ìˆ˜ì— ì €ì¥í•´ì•¼ ê´€ë¦¬ ê°€ëŠ¥

---

# 1ï¸âƒ£5ï¸âƒ£ ì¡°ê±´ë¶€ ì‹¤í–‰ ì˜¤ë¥˜

## ì˜¤ë¥˜ #30: ì‚¼í•­ ì—°ì‚°ìì—ì„œ line ìƒì„±

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
myLine = buySignal ? line.new(bar_index, low, bar_index, labelY) : na
// ì˜¤ë¥˜: ë§¤ ë°”ë§ˆë‹¤ í‰ê°€ë˜ì–´ ë¶ˆí•„ìš”í•œ ìƒì„±
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
var line myLine = na
if buySignal and barstate.isconfirmed
    if not na(myLine)
        line.delete(myLine)
    myLine := line.new(bar_index, low, bar_index, labelY)
```

### ğŸ’¡ ì„¤ëª…
- ë“œë¡œì‰ ìƒì„±ì€ ifë¬¸ ì‚¬ìš© ê¶Œì¥

---

## ì˜¤ë¥˜ #31: switchë¬¸ì—ì„œ ë¼ì¸ ëˆ„ë½

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
switch signalType
    "buy" => label.new(bar_index, labelY, "B")
    "sell" => label.new(bar_index, labelY, "S")
// ì˜¤ë¥˜: ë¼ì¸ ìƒì„± ëˆ„ë½
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
switch signalType
    "buy" =>
        label.new(bar_index, labelY, "B", style=label.style_label_up)
        line.new(bar_index, low, bar_index, labelY, color=color.white)
    "sell" =>
        label.new(bar_index, labelY, "S", style=label.style_label_down)
        line.new(bar_index, high, bar_index, labelY, color=color.white)
```

### ğŸ’¡ ì„¤ëª…
- ëª¨ë“  caseì—ì„œ ë¼ë²¨ê³¼ ë¼ì¸ ìŒìœ¼ë¡œ ìƒì„±

---

# 1ï¸âƒ£6ï¸âƒ£ ë°©í–¥ì„± ì˜¤ë¥˜ (Buy/Sell êµ¬ë¶„)

## ì˜¤ë¥˜ #32: ë§¤ìˆ˜/ë§¤ë„ ë°©í–¥ í˜¼ë™

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
// ë§¤ë„ ì‹ í˜¸ì¸ë° low ì‚¬ìš©
if sellSignal
    labelY = low - atr * 0.5  // ì˜ëª»ë¨: ë§¤ë„ëŠ” ìœ„ìª½
    line.new(bar_index, low, bar_index, labelY)
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
// ë§¤ìˆ˜: ìº”ë“¤ ì•„ë˜ (low â†’ ì•„ë˜)
if buySignal
    labelY = low - atr * 0.5
    label.new(bar_index, labelY, "B", style=label.style_label_up)
    line.new(bar_index, low, bar_index, labelY, color=color.white)

// ë§¤ë„: ìº”ë“¤ ìœ„ (high â†’ ìœ„)
if sellSignal
    labelY = high + atr * 0.5
    label.new(bar_index, labelY, "S", style=label.style_label_down)
    line.new(bar_index, high, bar_index, labelY, color=color.white)
```

### ğŸ’¡ ì„¤ëª…
- ë§¤ìˆ˜: low ê¸°ì¤€, ì•„ë˜ë¡œ ì—°ê²°
- ë§¤ë„: high ê¸°ì¤€, ìœ„ë¡œ ì—°ê²°

---

## ì˜¤ë¥˜ #33: ë ˆì´ë¸” ìŠ¤íƒ€ì¼ê³¼ ìœ„ì¹˜ ë¶ˆì¼ì¹˜

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
labelY = low - atr * 0.5
label.new(bar_index, labelY, "B", style=label.style_label_down)
// ì˜¤ë¥˜: ì•„ë˜ ìœ„ì¹˜ì¸ë° label_down (í™”ì‚´í‘œê°€ ì•„ë˜ë¥¼ í–¥í•¨)
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
labelY = low - atr * 0.5
label.new(bar_index, labelY, "B", style=label.style_label_up)
// label_up: í™”ì‚´í‘œê°€ ìœ„ë¥¼ í–¥í•´ ìº”ë“¤ì„ ê°€ë¦¬í‚´
```

### ğŸ’¡ ì„¤ëª…
- `label_up`: ë ˆì´ë¸” ìœ„ì— í™”ì‚´í‘œ (ì•„ë˜ ë°°ì¹˜ ì‹œ ì‚¬ìš©)
- `label_down`: ë ˆì´ë¸” ì•„ë˜ì— í™”ì‚´í‘œ (ìœ„ ë°°ì¹˜ ì‹œ ì‚¬ìš©)

---

# 1ï¸âƒ£7ï¸âƒ£ ì¢Œí‘œ ì°¸ì¡°ì  ì˜¤ë¥˜

## ì˜¤ë¥˜ #34: ì˜ëª»ëœ ìº”ë“¤ ê¸°ì¤€ì 

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
// close ì‚¬ìš© - ë³€ë™í•¨
labelY = close - atr * 0.5
line.new(bar_index, close, bar_index, labelY)
// ë¬¸ì œ: closeëŠ” ì‹¤ì‹œê°„ ë³€ë™í•˜ë¯€ë¡œ ì„  ìœ„ì¹˜ ë¶ˆì•ˆì •
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
// ë§¤ìˆ˜: low ì‚¬ìš© (ìº”ë“¤ ìµœì €ì  - ê³ ì •)
labelY = low - atr * 0.5
line.new(bar_index, low, bar_index, labelY)

// ë§¤ë„: high ì‚¬ìš© (ìº”ë“¤ ìµœê³ ì  - ê³ ì •)
labelY = high + atr * 0.5
line.new(bar_index, high, bar_index, labelY)
```

### ğŸ’¡ ì„¤ëª…
- í™•ì •ëœ ë°”ì˜ low/highëŠ” ê³ ì •ê°’
- closeëŠ” ì‹¤ì‹œê°„ ë°”ì—ì„œ ê³„ì† ë³€ë™

---

## ì˜¤ë¥˜ #35: wick vs body í˜¼ë™

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
// ëª¸í†µ í•˜ë‹¨ ì‚¬ìš©
candleBottom = math.min(open, close)
line.new(bar_index, candleBottom, bar_index, labelY)
// ë¬¸ì œ: ê¼¬ë¦¬(wick)ê°€ ë” ê¸¸ë©´ ì„ ì´ ìº”ë“¤ ë‚´ë¶€ì—ì„œ ì‹œì‘
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
// low/high ì‚¬ìš© (ê¼¬ë¦¬ í¬í•¨ ì „ì²´)
line.new(bar_index, low, bar_index, labelY)
```

### ğŸ’¡ ì„¤ëª…
- low/highëŠ” ê¼¬ë¦¬ ëì  í¬í•¨
- open/closeëŠ” ëª¸í†µë§Œ (ê¼¬ë¦¬ ë¬´ì‹œ)

---

# 1ï¸âƒ£8ï¸âƒ£ ì˜¤í”„ì…‹ ê³„ì‚° ì˜¤ë¥˜

## ì˜¤ë¥˜ #36: ê³ ì • í”½ì…€ê°’ ì‚¬ìš©

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
labelY = low - 10  // ê³ ì • ê°’
line.new(bar_index, low, bar_index, labelY)
// ì˜¤ë¥˜: ê°€ê²©ëŒ€ì— ë”°ë¼ 10ì´ ë„ˆë¬´ í¬ê±°ë‚˜ ì‘ìŒ
// BTC(50000): 10ì€ ê±°ì˜ ì•ˆ ë³´ì„
// ì €ê°€ì£¼(0.5): 10ì€ í™”ë©´ ë°–
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
// ATR ê¸°ë°˜ ë™ì  ê³„ì‚°
atrValue = ta.atr(14)
labelY = low - atrValue * 0.5
line.new(bar_index, low, bar_index, labelY)

// ë˜ëŠ” í¼ì„¼íŠ¸ ê¸°ë°˜
labelY = low * 0.995  // 0.5% ì•„ë˜
```

### ğŸ’¡ ì„¤ëª…
- ê³ ì •ê°’ì€ ì‹¬ë³¼/ê°€ê²©ëŒ€ë§ˆë‹¤ ë‹¤ë¥´ê²Œ ë³´ì„
- ATR ë˜ëŠ” % ê¸°ë°˜ ê³„ì‚°ìœ¼ë¡œ ì¼ê´€ì„± ìœ ì§€

---

## ì˜¤ë¥˜ #37: ATR ê¸°ê°„ ë¶€ì ì ˆ

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
atrValue = ta.atr(1)  // ë„ˆë¬´ ì§§ìŒ
labelY = low - atrValue * 0.5
// ë¬¸ì œ: ATR(1)ì€ ë‹¨ì¼ ë°” ë²”ìœ„ë¼ ë¶ˆì•ˆì •
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
atrValue = ta.atr(14)  // í‘œì¤€ 14ê¸°ê°„
labelY = low - atrValue * 0.5
```

### ğŸ’¡ ì„¤ëª…
- ATR(1)ì€ ë‹¨ì¼ ìº”ë“¤ ë²”ìœ„ = ë§¤ìš° ë³€ë™ì 
- ATR(14)ê°€ í‘œì¤€, ì•ˆì •ì ì¸ ì˜¤í”„ì…‹ ì œê³µ

---

## ì˜¤ë¥˜ #38: ë¡œê·¸ ìŠ¤ì¼€ì¼ ë¯¸ê³ ë ¤

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
// ë¡œê·¸ ì°¨íŠ¸ì—ì„œ ì‚°ìˆ  ê³„ì‚°
labelY = low - atr * 0.5
// ë¬¸ì œ: ë¡œê·¸ ìŠ¤ì¼€ì¼ì—ì„œëŠ” ì‚°ìˆ  ë¹¼ê¸°ê°€ ë¹„ë¡€í•˜ì§€ ì•ŠìŒ
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
// í¼ì„¼íŠ¸ ê¸°ë°˜ ê³„ì‚° (ë¡œê·¸ ìŠ¤ì¼€ì¼ì— ì í•©)
labelY = low * (1 - 0.02)  // 2% ì•„ë˜
line.new(bar_index, low, bar_index, labelY)
```

### ğŸ’¡ ì„¤ëª…
- ë¡œê·¸ ì°¨íŠ¸ì—ì„œëŠ” % ê¸°ë°˜ ê³„ì‚°ì´ ì‹œê°ì ìœ¼ë¡œ ê· ì¼

---

# 1ï¸âƒ£9ï¸âƒ£ ì‹œê°„ ê¸°ë°˜ ì˜¤ë¥˜

## ì˜¤ë¥˜ #39: xloc.bar_time ì‚¬ìš© ì‹œ íƒ€ì„ìŠ¤íƒ¬í”„ ì˜¤ë¥˜

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
line.new(time, low, time, labelY, xloc=xloc.bar_time)
// ì˜¤ë¥˜: timeì€ ë°€ë¦¬ì´ˆ ë‹¨ìœ„, ê³„ì‚° ì‹¤ìˆ˜ ë°œìƒ ì‰¬ì›€
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
// bar_index ì‚¬ìš© ê¶Œì¥ (ê°„ë‹¨í•˜ê³  ì•ˆì „)
line.new(bar_index, low, bar_index, labelY, xloc=xloc.bar_index)
```

### ğŸ’¡ ì„¤ëª…
- `bar_index`ëŠ” ì •ìˆ˜ë¡œ ì§ê´€ì 
- `time`ì€ Unix íƒ€ì„ìŠ¤íƒ¬í”„ë¡œ ë³µì¡

---

## ì˜¤ë¥˜ #40: ë¯¸ë˜ ë°” ì°¸ì¡°

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
line.new(bar_index + 5, low, bar_index + 5, labelY)
// ì˜¤ë¥˜: ë¯¸ë˜ ë°”ëŠ” ì¡´ì¬í•˜ì§€ ì•Šì•„ í‘œì‹œ ì•ˆë¨
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
// í˜„ì¬ ë˜ëŠ” ê³¼ê±° ë°”ë§Œ ì°¸ì¡°
line.new(bar_index, low, bar_index, labelY)
```

### ğŸ’¡ ì„¤ëª…
- ë¯¸ë˜ bar_indexëŠ” ì•„ì§ ì¡´ì¬í•˜ì§€ ì•ŠìŒ
- í˜„ì¬(bar_index) ë˜ëŠ” ê³¼ê±°(bar_index - n)ë§Œ ì‚¬ìš©

---

# 2ï¸âƒ£0ï¸âƒ£ ì°¨íŠ¸ ìœ í˜•ë³„ ì˜¤ë¥˜

## ì˜¤ë¥˜ #41: Heikin Ashiì—ì„œ ì‹¤ì œ ê°€ê²© ì‚¬ìš©

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
// HA ì°¨íŠ¸ì—ì„œ ì§ì ‘ low ì‚¬ìš©
line.new(bar_index, low, bar_index, labelY)
// ë¬¸ì œ: HAì˜ lowëŠ” í‰ê· ê°’, ì‹¤ì œ lowê°€ ì•„ë‹˜
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
// ì‹¤ì œ ê°€ê²© ê°€ì ¸ì˜¤ê¸°
realLow = request.security(syminfo.tickerid, timeframe.period, low, 
    barmerge.gaps_off, barmerge.lookahead_off)
labelY = realLow - atr * 0.5
line.new(bar_index, realLow, bar_index, labelY)
```

### ğŸ’¡ ì„¤ëª…
- Heikin Ashi OHLCëŠ” ê³„ì‚°ëœ í‰ê· ê°’
- ì‹¤ì œ ê°€ê²© í•„ìš” ì‹œ request.security ì‚¬ìš©

---

## ì˜¤ë¥˜ #42: Renko/P&F ì°¨íŠ¸ ë¯¸ì§€ì›

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
// Renko ì°¨íŠ¸ì—ì„œ ì¼ë°˜ ë¡œì§ ì‚¬ìš©
line.new(bar_index, low, bar_index, labelY)
// ë¬¸ì œ: RenkoëŠ” ì‹œê°„ì´ ì•„ë‹Œ ê°€ê²© ê¸°ë°˜, bar_index ë™ì‘ ë‹¤ë¦„
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
// ì°¨íŠ¸ ìœ í˜• ì²´í¬ í›„ ì²˜ë¦¬
isStandardChart = not (chart.is_renko or chart.is_pnf or 
    chart.is_kagi or chart.is_linebreak)

if isStandardChart and buySignal
    line.new(bar_index, low, bar_index, labelY)
```

### ğŸ’¡ ì„¤ëª…
- ë¹„í‘œì¤€ ì°¨íŠ¸ëŠ” bar_index ë™ì‘ì´ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ
- ì°¨íŠ¸ ìœ í˜• ì²´í¬ í›„ ì¡°ê±´ë¶€ ì‹¤í–‰

---

# 2ï¸âƒ£1ï¸âƒ£ ë‹¤ì¤‘ ì‹¬ë³¼ ì˜¤ë¥˜

## ì˜¤ë¥˜ #43: ë‹¤ë¥¸ ì‹¬ë³¼ ë°ì´í„°ë¡œ ë¼ì¸ ê·¸ë¦¬ê¸°

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
btcLow = request.security("BTCUSDT", "D", low)
line.new(bar_index, btcLow, bar_index, btcLow - atr)
// ì˜¤ë¥˜: í˜„ì¬ ì‹¬ë³¼ ì°¨íŠ¸ì— BTC ê°€ê²© í‘œì‹œ - ìŠ¤ì¼€ì¼ ì™„ì „íˆ ë‹¤ë¦„
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
// ê°™ì€ ì‹¬ë³¼ ë°ì´í„°ë§Œ ì‚¬ìš©
line.new(bar_index, low, bar_index, labelY)

// ë‹¤ë¥¸ ì‹¬ë³¼ í‘œì‹œ í•„ìš” ì‹œ ë³„ë„ íŒ¨ë„ ë˜ëŠ” ì •ê·œí™” í•„ìš”
```

### ğŸ’¡ ì„¤ëª…
- ë‹¤ë¥¸ ì‹¬ë³¼ ê°€ê²©ì€ ìŠ¤ì¼€ì¼ì´ ì™„ì „íˆ ë‹¤ë¦„
- ê°™ì€ ì°¨íŠ¸ì— ê·¸ë¦¬ë©´ ë³´ì´ì§€ ì•Šê±°ë‚˜ ì™œê³¡ë¨

---

# 2ï¸âƒ£2ï¸âƒ£ ë©”ëª¨ë¦¬ ë° ì„±ëŠ¥ ì˜¤ë¥˜

## ì˜¤ë¥˜ #44: ë¶ˆí•„ìš”í•œ ë¼ì¸ ì†ì„± ë³€ê²½

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
var line myLine = line.new(bar_index, low, bar_index, labelY)
line.set_color(myLine, color.white)
line.set_width(myLine, 1)
line.set_style(myLine, line.style_solid)
// ì˜¤ë¥˜: ìƒì„± ì‹œ ì§€ì • ê°€ëŠ¥í•œ ì†ì„±ì„ ë§¤ë²ˆ ë‹¤ì‹œ ì„¤ì •
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
var line myLine = na
if buySignal and barstate.isconfirmed
    myLine := line.new(bar_index, low, bar_index, labelY,
        color=color.white, width=1, style=line.style_solid)
```

### ğŸ’¡ ì„¤ëª…
- ìƒì„± ì‹œ ëª¨ë“  ì†ì„± ì§€ì •ì´ íš¨ìœ¨ì 
- set_ í•¨ìˆ˜ëŠ” ë™ì  ë³€ê²½ í•„ìš”í•  ë•Œë§Œ ì‚¬ìš©

---

## ì˜¤ë¥˜ #45: ë¬´í•œ ë£¨í”„ ìœ„í—˜

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
var line[] lines = array.new_line()
while array.size(lines) < 1000
    array.push(lines, line.new(bar_index, low, bar_index, labelY))
// ì˜¤ë¥˜: ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ì‹œê°„ ì´ˆê³¼ (íƒ€ì„ì•„ì›ƒ)
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
var line[] lines = array.new_line()
if buySignal and barstate.isconfirmed
    if array.size(lines) < 500
        array.push(lines, line.new(bar_index, low, bar_index, labelY))
```

### ğŸ’¡ ì„¤ëª…
- while ë£¨í”„ì—ì„œ ëŒ€ëŸ‰ ìƒì„± ê¸ˆì§€
- ì¡°ê±´ë¶€ë¡œ ì ì§„ì  ìƒì„±

---

# 2ï¸âƒ£3ï¸âƒ£ ì‹œê°ì  ê²¹ì¹¨ ì˜¤ë¥˜

## ì˜¤ë¥˜ #46: ê°™ì€ ìœ„ì¹˜ì— ë‹¤ì¤‘ ë¼ì¸

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
if buySignal
    line.new(bar_index, low, bar_index, labelY, color=color.white)
if rsiSignal  // buySignalê³¼ ë™ì‹œ ë°œìƒ ê°€ëŠ¥
    line.new(bar_index, low, bar_index, labelY, color=color.green)
// ë¬¸ì œ: ë‘ ì„ ì´ ì™„ì „íˆ ê²¹ì³ì„œ í•˜ë‚˜ë§Œ ë³´ì„
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
if buySignal or rsiSignal
    // ìš°ì„ ìˆœìœ„ì— ë”°ë¼ ìƒ‰ìƒ ê²°ì •
    lineColor = buySignal and rsiSignal ? color.yellow : 
                buySignal ? color.white : color.green
    line.new(bar_index, low, bar_index, labelY, color=lineColor)
```

### ğŸ’¡ ì„¤ëª…
- ë™ì¼ ìœ„ì¹˜ ë‹¤ì¤‘ ì‹ í˜¸ëŠ” í•˜ë‚˜ë¡œ í†µí•©
- ìƒ‰ìƒìœ¼ë¡œ ë³µí•© ì‹ í˜¸ í‘œì‹œ

---

## ì˜¤ë¥˜ #47: ë¼ì¸ì´ ìº”ë“¤ì„ ê°€ë¦¼

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
line.new(bar_index, high + atr, bar_index, low - atr, 
    width=5, color=color.white)
// ë¬¸ì œ: ë‘êº¼ìš´ ì„ ì´ ìº”ë“¤ ì „ì²´ë¥¼ ê°€ë¡œì§€ë¦„
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
// ìº”ë“¤ ì™¸ë¶€ì—ë§Œ ì„  ê·¸ë¦¬ê¸°, ì–‡ê³  ë°˜íˆ¬ëª…í•˜ê²Œ
line.new(bar_index, low, bar_index, labelY, 
    width=1, color=color.new(color.white, 30))
```

### ğŸ’¡ ì„¤ëª…
- ìˆ˜ì§ì„ ì€ ìº”ë“¤ ì™¸ë¶€ ì˜ì—­ì—ë§Œ
- ì–‡ì€ ì„ (width=1)ê³¼ ì•½ê°„ì˜ íˆ¬ëª…ë„ ê¶Œì¥

---

# 2ï¸âƒ£4ï¸âƒ£ ì¡°ê±´ ì¶©ëŒ ì˜¤ë¥˜

## ì˜¤ë¥˜ #48: ìƒí˜¸ ë°°íƒ€ì  ì¡°ê±´ ë¯¸ì²˜ë¦¬

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
if buySignal
    line.new(bar_index, low, bar_index, low - atr * 0.5)
if sellSignal
    line.new(bar_index, high, bar_index, high + atr * 0.5)
// ë¬¸ì œ: ë™ì‹œ ë°œìƒ ì‹œ ë‘ ë¼ì¸ ëª¨ë‘ ìƒì„± (ì˜ë„í•˜ì§€ ì•Šì€ ê²°ê³¼)
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
if buySignal and not sellSignal
    line.new(bar_index, low, bar_index, low - atr * 0.5, color=color.green)
else if sellSignal and not buySignal
    line.new(bar_index, high, bar_index, high + atr * 0.5, color=color.red)
else if buySignal and sellSignal
    // ì¶©ëŒ ì²˜ë¦¬: ìš°ì„ ìˆœìœ„ ê²°ì • ë˜ëŠ” ë¬´ì‹œ
    na
```

### ğŸ’¡ ì„¤ëª…
- ë§¤ìˆ˜/ë§¤ë„ ë™ì‹œ ë°œìƒ ê°€ëŠ¥ì„± ê³ ë ¤
- ëª…ì‹œì  ìš°ì„ ìˆœìœ„ ë˜ëŠ” ë¬´ì‹œ ë¡œì§ í•„ìš”

---

# 2ï¸âƒ£5ï¸âƒ£ ë””ë²„ê¹… ê´€ë ¨ ì˜¤ë¥˜

## ì˜¤ë¥˜ #49: ë¼ì¸ ID ë¡œê¹… ì‹¤íŒ¨

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
myLine = line.new(bar_index, low, bar_index, labelY)
label.new(bar_index, high, str.tostring(myLine))
// ì˜¤ë¥˜: line íƒ€ì…ì€ ì§ì ‘ ë¬¸ìì—´ ë³€í™˜ ë¶ˆê°€
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
var int lineCount = 0
if buySignal and barstate.isconfirmed
    line.new(bar_index, low, bar_index, labelY)
    lineCount += 1
    label.new(bar_index, high, "Line #" + str.tostring(lineCount))
```

### ğŸ’¡ ì„¤ëª…
- line ê°ì²´ëŠ” str.tostring() ë¶ˆê°€
- ë³„ë„ ì¹´ìš´í„°ë¡œ ì¶”ì 

---

## ì˜¤ë¥˜ #50: na ì²´í¬ ìˆœì„œ ì˜¤ë¥˜

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
if line.get_y1(myLine) > 0 and not na(myLine)
// ì˜¤ë¥˜: myLineì´ naë©´ get_y1ì—ì„œ ëŸ°íƒ€ì„ ì—ëŸ¬
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
if not na(myLine) and line.get_y1(myLine) > 0
    // na ì²´í¬ë¥¼ ë¨¼ì € (ë‹¨ì¶• í‰ê°€)
```

### ğŸ’¡ ì„¤ëª…
- Pine ScriptëŠ” ë‹¨ì¶• í‰ê°€(short-circuit) ì§€ì›
- na ì²´í¬ë¥¼ í•­ìƒ ë¨¼ì €

---

# 2ï¸âƒ£6ï¸âƒ£ ë³µí•© ê°ì²´ ê´€ë¦¬ ì˜¤ë¥˜

## ì˜¤ë¥˜ #51: ë¼ì¸-ë ˆì´ë¸” ìŒ ë¶ˆì¼ì¹˜

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
var line myLine = na
var label myLabel = na

if buySignal
    myLine := line.new(...)
if buySignal and volume > avgVol  // ì¶”ê°€ ì¡°ê±´
    myLabel := label.new(...)
// ë¬¸ì œ: ë¼ì¸ì€ ìˆëŠ”ë° ë ˆì´ë¸” ì—†ëŠ” ê²½ìš° ë°œìƒ
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
var line myLine = na
var label myLabel = na

if buySignal and barstate.isconfirmed
    // í•­ìƒ ìŒìœ¼ë¡œ ì‚­ì œ
    if not na(myLine)
        line.delete(myLine)
    if not na(myLabel)
        label.delete(myLabel)
    
    // í•­ìƒ ìŒìœ¼ë¡œ ìƒì„±
    myLine := line.new(bar_index, low, bar_index, labelY)
    myLabel := label.new(bar_index, labelY, "B")
```

### ğŸ’¡ ì„¤ëª…
- ë¼ì¸ê³¼ ë ˆì´ë¸”ì€ í•­ìƒ ë™ì¼ ì¡°ê±´ì—ì„œ ìŒìœ¼ë¡œ ê´€ë¦¬

---

## ì˜¤ë¥˜ #52: ê°ì²´ ìŒ ë°°ì—´ ë™ê¸°í™” ì‹¤íŒ¨

### âŒ ì˜ëª»ëœ ì½”ë“œ
```pinescript
var line[] lines = array.new_line()
var label[] labels = array.new_label()

if buySignal
    array.push(lines, line.new(...))
if buySignal and someCondition
    array.push(labels, label.new(...))
// ë¬¸ì œ: ë°°ì—´ í¬ê¸° ë¶ˆì¼ì¹˜ë¡œ ì¸ë±ìŠ¤ ë§¤í•‘ ê¹¨ì§
```

### âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
```pinescript
var line[] lines = array.new_line()
var label[] labels = array.new_label()

if buySignal and barstate.isconfirmed
    // í•­ìƒ ìŒìœ¼ë¡œ ì¶”ê°€
    array.push(lines, line.new(...))
    array.push(labels, label.new(...))
    
// ì‚­ì œ ì‹œì—ë„ ë™ì‹œì—
if array.size(lines) > 100
    line.delete(array.shift(lines))
    label.delete(array.shift(labels))
```

### ğŸ’¡ ì„¤ëª…
- ë‘ ë°°ì—´ì˜ í¬ê¸°ê°€ í•­ìƒ ê°™ì•„ì•¼ ì¸ë±ìŠ¤ë¡œ ë§¤ì¹­ ê°€ëŠ¥

---

# ğŸ“‹ ì™„ë²½í•œ êµ¬í˜„ í…œí”Œë¦¿

```pinescript
//@version=5
indicator("Perfect Candle-Label Line Connection", 
    overlay=true, 
    max_lines_count=500, 
    max_labels_count=500)

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ì…ë ¥ ì„¤ì •
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
atrPeriod      = input.int(14, "ATR Period", minval=1)
atrMultiplier  = input.float(0.5, "ATR Multiplier", minval=0.1, maxval=2.0)
lineColor      = input.color(color.white, "Line Color")
lineWidth      = input.int(1, "Line Width", minval=1, maxval=4)
maxSignals     = input.int(100, "Max Signals", minval=10, maxval=500)

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ë³€ìˆ˜ ì„ ì–¸ (ì „ì—­ ìŠ¤ì½”í”„, var í•„ìˆ˜)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var line[] buyLines    = array.new_line()
var label[] buyLabels  = array.new_label()
var line[] sellLines   = array.new_line()
var label[] sellLabels = array.new_label()

var line tempBuyLine   = na
var label tempBuyLabel = na
var line tempSellLine  = na
var label tempSellLabel = na

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ê³„ì‚°
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
atrValue = ta.atr(atrPeriod)
rsiValue = ta.rsi(close, 14)

// ì‹ í˜¸ ì¡°ê±´ (ìƒí˜¸ ë°°íƒ€ì  ì²˜ë¦¬)
rawBuy  = ta.crossover(rsiValue, 30)
rawSell = ta.crossunder(rsiValue, 70)
buySignal  = rawBuy and not rawSell
sellSignal = rawSell and not rawBuy

// ì˜¤í”„ì…‹ ê³„ì‚° (na ì²˜ë¦¬ í¬í•¨)
safeAtr   = na(atrValue) ? close * 0.01 : atrValue * atrMultiplier
buyLabelY  = low - safeAtr
sellLabelY = high + safeAtr

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// í—¬í¼ í•¨ìˆ˜
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
cleanupOldSignals(lineArr, labelArr, maxCount) =>
    while array.size(lineArr) >= maxCount
        line.delete(array.shift(lineArr))
        if array.size(labelArr) > 0
            label.delete(array.shift(labelArr))

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ë©”ì¸ ë¡œì§: í™•ì •ëœ ë°”ì—ì„œ ì˜êµ¬ ì‹ í˜¸ ìƒì„±
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
if barstate.isconfirmed
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // ë§¤ìˆ˜ ì‹ í˜¸
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    if buySignal and not na(buyLabelY) and not na(low)
        cleanupOldSignals(buyLines, buyLabels, maxSignals)
        
        newLine = line.new(
            x1=bar_index, y1=low,
            x2=bar_index, y2=buyLabelY,
            xloc=xloc.bar_index,
            color=color.new(lineColor, 0),
            width=lineWidth,
            style=line.style_solid,
            extend=extend.none)
        
        newLabel = label.new(
            x=bar_index, y=buyLabelY,
            text="B",
            xloc=xloc.bar_index,
            yloc=yloc.price,
            color=color.green,
            textcolor=color.white,
            style=label.style_label_up,
            size=size.small)
        
        array.push(buyLines, newLine)
        array.push(buyLabels, newLabel)
    
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // ë§¤ë„ ì‹ í˜¸
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    if sellSignal and not na(sellLabelY) and not na(high)
        cleanupOldSignals(sellLines, sellLabels, maxSignals)
        
        newLine = line.new(
            x1=bar_index, y1=high,
            x2=bar_index, y2=sellLabelY,
            xloc=xloc.bar_index,
            color=color.new(lineColor, 0),
            width=lineWidth,
            style=line.style_solid,
            extend=extend.none)
        
        newLabel = label.new(
            x=bar_index, y=sellLabelY,
            text="S",
            xloc=xloc.bar_index,
            yloc=yloc.price,
            color=color.red,
            textcolor=color.white,
            style=label.style_label_down,
            size=size.small)
        
        array.push(sellLines, newLine)
        array.push(sellLabels, newLabel)

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ì‹¤ì‹œê°„ ë°”: ì„ì‹œ ì‹ í˜¸ í‘œì‹œ (ë¯¸í™•ì •)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
if not barstate.isconfirmed
    // ì´ì „ ì„ì‹œ ê°ì²´ ì •ë¦¬
    if not na(tempBuyLine)
        line.delete(tempBuyLine)
        tempBuyLine := na
    if not na(tempBuyLabel)
        label.delete(tempBuyLabel)
        tempBuyLabel := na
    if not na(tempSellLine)
        line.delete(tempSellLine)
        tempSellLine := na
    if not na(tempSellLabel)
        label.delete(tempSellLabel)
        tempSellLabel := na
    
    // ë§¤ìˆ˜ ì„ì‹œ í‘œì‹œ
    if buySignal and not na(buyLabelY) and not na(low)
        tempBuyLine := line.new(
            x1=bar_index, y1=low,
            x2=bar_index, y2=buyLabelY,
            xloc=xloc.bar_index,
            color=color.new(lineColor, 50),
            width=lineWidth,
            style=line.style_dashed)
        
        tempBuyLabel := label.new(
            x=bar_index, y=buyLabelY,
            text="B?",
            xloc=xloc.bar_index,
            yloc=yloc.price,
            color=color.new(color.green, 50),
            textcolor=color.white,
            style=label.style_label_up,
            size=size.small)
    
    // ë§¤ë„ ì„ì‹œ í‘œì‹œ
    if sellSignal and not na(sellLabelY) and not na(high)
        tempSellLine := line.new(
            x1=bar_index, y1=high,
            x2=bar_index, y2=sellLabelY,
            xloc=xloc.bar_index,
            color=color.new(lineColor, 50),
            width=lineWidth,
            style=line.style_dashed)
        
        tempSellLabel := label.new(
            x=bar_index, y=sellLabelY,
            text="S?",
            xloc=xloc.bar_index,
            yloc=yloc.price,
            color=color.new(color.red, 50),
            textcolor=color.white,
            style=label.style_label_down,
            size=size.small)
```

---

# ğŸ“Š ì˜¤ë¥˜ ìœ í˜•ë³„ ë¹ ë¥¸ ì°¸ì¡°í‘œ

| # | ì˜¤ë¥˜ ìœ í˜• | ì¦ìƒ | í•µì‹¬ í•´ê²°ì±… |
|---|----------|------|------------|
| 01 | ì¢Œí‘œ ì‹œìŠ¤í…œ ë¶ˆì¼ì¹˜ | ë¼ì¸ ì•ˆ ë³´ì„ | `xloc.bar_index` í†µì¼ |
| 02 | ê°™ì€ ì¢Œí‘œ ì—°ê²° | ì ë§Œ ë³´ì„ | Yì¢Œí‘œ ì˜¤í”„ì…‹ ì¶”ê°€ |
| 03 | extend ì˜ëª» ì‚¬ìš© | ë¬´í•œ ì—°ì¥ | `extend.none` |
| 04 | barstate ë¯¸ì²´í¬ | ê¹œë¹¡ì„ | `barstate.isconfirmed` |
| 05 | var ë¯¸ì‚¬ìš© | ì°¸ì¡° ì†ì‹¤ | `var line` ì„ ì–¸ |
| 06 | max_lines_count ë¯¸ì„¤ì • | ìë™ ì‚­ì œ | `max_lines_count=500` |
| 07 | ë¼ì¸ ëˆ„ì  | ì˜¤ë˜ëœ ê²ƒ ì‚­ì œ | ë°°ì—´ ê´€ë¦¬ |
| 08 | Yì¢Œí‘œ ë²”ìœ„ ì´ˆê³¼ | í™”ë©´ ë°– | ATR ê¸°ë°˜ ì œí•œ |
| 09 | na ê°’ ë¯¸ì²˜ë¦¬ | ìƒì„± ì‹¤íŒ¨ | `not na()` ì²´í¬ |
| 10 | íˆ¬ëª…ë„ 100% | ì•ˆ ë³´ì„ | íˆ¬ëª…ë„ 0~50 |
| 11 | width 0 | ì•ˆ ë³´ì„ | `width=1` ì´ìƒ |
| 12 | style ë¬¸ìì—´ | íƒ€ì… ì—ëŸ¬ | `line.style_solid` |
| 13 | ë¼ë²¨-ë¼ì¸ ìœ„ì¹˜ ë¶ˆì¼ì¹˜ | ë–¨ì–´ì ¸ ë³´ì„ | ê°™ì€ labelY ì‚¬ìš© |
| 14 | ìƒì„± ì¡°ê±´ ë¶ˆì¼ì¹˜ | ì§ ì•ˆ ë§ìŒ | ë™ì¼ ì¡°ê±´ ì‚¬ìš© |
| 15 | set_xy ë‚¨ìš© | ì„±ëŠ¥ ì €í•˜ | ì‚­ì œ í›„ ì¬ìƒì„± |
| 16 | ì‚­ì œ ì—†ì´ ìƒì„± | ì¤‘ë³µ | `line.delete()` ë¨¼ì € |
| 17 | MTF ë°ì´í„° í˜¼ìš© | ìœ„ì¹˜ ì˜¤ë¥˜ | í˜„ì¬ TFë§Œ ì‚¬ìš© |
| 18 | ì¤‘ì²© if ë¡œì§ ì˜¤ë¥˜ | ë¶€ë¶„ ìƒì„± | ì¡°ê±´ í†µí•© |
| 19 | ê³¼ê±° ë°” ì°¸ì¡° | ì˜ˆìƒ ì™¸ ë™ì‘ | í˜„ì¬ ë°” ì‚¬ìš© |
| 20 | ë§¤ ë°” ì¬ìƒì„± | íƒ€ì„ì•„ì›ƒ | ì¡°ê±´ë¶€ ìƒì„±ë§Œ |
| 21 | ë²„ì „ ë¯¸ì§€ì • | ë¬¸ë²• ì—ëŸ¬ | `//@version=5` |
| 22 | v4 transp ì‚¬ìš© | ì—ëŸ¬ | `color.new()` |
| 23 | íƒ€ì… ë¶ˆì¼ì¹˜ | í• ë‹¹ ì—ëŸ¬ | `var line` |
| 24 | series/simple í˜¼ë™ | ê²½ê³  | `color.new()` ë˜í•‘ |
| 25 | ë°°ì—´ ì´ˆê¸°í™” ìœ„ì¹˜ | ì°¸ì¡° ì†ì‹¤ | ì „ì—­ var ì„ ì–¸ |
| 26 | ë¹ˆ ë°°ì—´ ì ‘ê·¼ | ëŸ°íƒ€ì„ ì—ëŸ¬ | size ì²´í¬ |
| 27 | ì¸ë±ìŠ¤ ë²”ìœ„ ì´ˆê³¼ | ëŸ°íƒ€ì„ ì—ëŸ¬ | size-1ê¹Œì§€ë§Œ |
| 28 | í•¨ìˆ˜ ë‚´ var | ì˜ˆìƒ ì™¸ ë™ì‘ | ì „ì—­ ì„ ì–¸ |
| 29 | ë°˜í™˜ê°’ ë¬´ì‹œ | ìˆ˜ì • ë¶ˆê°€ | ë³€ìˆ˜ì— ì €ì¥ |
| 30 | ì‚¼í•­ ì—°ì‚°ì ìƒì„± | ë§¤ ë°” í‰ê°€ | ifë¬¸ ì‚¬ìš© |
| 31 | switch ëˆ„ë½ | ë¶€ë¶„ ìƒì„± | ëª¨ë“  case ì²˜ë¦¬ |
| 32 | ë§¤ìˆ˜/ë§¤ë„ ë°©í–¥ í˜¼ë™ | ìœ„ì¹˜ ë°˜ëŒ€ | low/high êµ¬ë¶„ |
| 33 | ë ˆì´ë¸” ìŠ¤íƒ€ì¼ ë¶ˆì¼ì¹˜ | í™”ì‚´í‘œ ë°˜ëŒ€ | up/down ë§ì¶¤ |
| 34 | close ê¸°ì¤€ì  | ë¶ˆì•ˆì • | low/high ì‚¬ìš© |
| 35 | body vs wick | ìº”ë“¤ ë‚´ë¶€ ì‹œì‘ | low/high ì‚¬ìš© |
| 36 | ê³ ì • í”½ì…€ê°’ | ìŠ¤ì¼€ì¼ ë¬¸ì œ | ATR/% ê¸°ë°˜ |
| 37 | ATR(1) ì‚¬ìš© | ë¶ˆì•ˆì • | ATR(14) |
| 38 | ë¡œê·¸ ìŠ¤ì¼€ì¼ ë¯¸ê³ ë ¤ | ì™œê³¡ | % ê¸°ë°˜ ê³„ì‚° |
| 39 | bar_time íƒ€ì„ìŠ¤íƒ¬í”„ | ê³„ì‚° ì‹¤ìˆ˜ | bar_index ì‚¬ìš© |
| 40 | ë¯¸ë˜ ë°” ì°¸ì¡° | í‘œì‹œ ì•ˆë¨ | í˜„ì¬/ê³¼ê±°ë§Œ |
| 41 | HA ê°€ê²© ì‚¬ìš© | ì‹¤ì œì™€ ë‹¤ë¦„ | request.security |
| 42 | Renko ë¯¸ì§€ì› | ì˜ˆìƒ ì™¸ ë™ì‘ | ì°¨íŠ¸ ìœ í˜• ì²´í¬ |
| 43 | ë‹¤ë¥¸ ì‹¬ë³¼ ë°ì´í„° | ìŠ¤ì¼€ì¼ ë¶ˆì¼ì¹˜ | ê°™ì€ ì‹¬ë³¼ë§Œ |
| 44 | ë¶ˆí•„ìš”í•œ set_ í˜¸ì¶œ | ì„±ëŠ¥ ì €í•˜ | ìƒì„± ì‹œ ì§€ì • |
| 45 | ë¬´í•œ ë£¨í”„ | íƒ€ì„ì•„ì›ƒ | ì¡°ê±´ë¶€ ì œí•œ |
| 46 | ê°™ì€ ìœ„ì¹˜ ë‹¤ì¤‘ ë¼ì¸ | ê²¹ì¹¨ | ì¡°ê±´ í†µí•© |
| 47 | ìº”ë“¤ ê°€ë¦¼ | ì‹œê°ì  ë¬¸ì œ | ì™¸ë¶€ì—ë§Œ, ì–‡ê²Œ |
| 48 | ìƒí˜¸ ë°°íƒ€ ë¯¸ì²˜ë¦¬ | ì¤‘ë³µ ìƒì„± | `and not` ì¡°ê±´ |
| 49 | line ID ë¡œê¹… | ë³€í™˜ ì—ëŸ¬ | ì¹´ìš´í„° ì‚¬ìš© |
| 50 | na ì²´í¬ ìˆœì„œ | ëŸ°íƒ€ì„ ì—ëŸ¬ | na ë¨¼ì € ì²´í¬ |
| 51 | ìŒ ë¶ˆì¼ì¹˜ | ì§ ì•ˆ ë§ìŒ | ë™ì‹œ ìƒì„±/ì‚­ì œ |
| 52 | ë°°ì—´ ë™ê¸°í™” ì‹¤íŒ¨ | í¬ê¸° ë‹¤ë¦„ | í•­ìƒ ìŒìœ¼ë¡œ |

---

# ğŸ”§ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… í”Œë¡œìš°ì°¨íŠ¸

## ë¼ì¸ì´ ì•ˆ ë³´ì¼ ë•Œ

```
ë¼ì¸ì´ ì•ˆ ë³´ì¸ë‹¤
    â”‚
    â”œâ”€â–º [1] ì¢Œí‘œ í™•ì¸
    â”‚   â”œâ”€ xloc.bar_index ì‚¬ìš©í–ˆëŠ”ê°€?
    â”‚   â”œâ”€ Y1 â‰  Y2 ì¸ê°€? (ê°™ìœ¼ë©´ ì )
    â”‚   â”œâ”€ na ê°’ì´ ìˆëŠ”ê°€?
    â”‚   â””â”€ ì¢Œí‘œê°€ í™”ë©´ ë²”ìœ„ ë‚´ì¸ê°€?
    â”‚
    â”œâ”€â–º [2] ìŠ¤íƒ€ì¼ í™•ì¸
    â”‚   â”œâ”€ color íˆ¬ëª…ë„ < 100?
    â”‚   â”œâ”€ width â‰¥ 1?
    â”‚   â”œâ”€ extend = none?
    â”‚   â””â”€ style ìƒìˆ˜ ì‚¬ìš©?
    â”‚
    â”œâ”€â–º [3] ì¡°ê±´ í™•ì¸
    â”‚   â”œâ”€ ì‹ í˜¸ ì¡°ê±´ì´ trueì¸ê°€?
    â”‚   â”œâ”€ barstate.isconfirmed ì²´í¬?
    â”‚   â””â”€ not na() ì²´í¬ í†µê³¼?
    â”‚
    â””â”€â–º [4] ì œí•œ í™•ì¸
        â”œâ”€ max_lines_count ì„¤ì •?
        â””â”€ 500ê°œ ë¯¸ë§Œì¸ê°€?
```

## ë¼ì¸ì´ ê¹œë¹¡ì¼ ë•Œ

```
ë¼ì¸ì´ ê¹œë¹¡ì¸ë‹¤
    â”‚
    â”œâ”€â–º barstate.isconfirmed ì¶”ê°€
    â”‚
    â”œâ”€â–º varë¡œ ë¼ì¸ ë³€ìˆ˜ ì„ ì–¸
    â”‚
    â””â”€â–º ì‚­ì œ í›„ ì¬ìƒì„± íŒ¨í„´ ì‚¬ìš©
```

## ë¼ì¸ì´ ì‚¬ë¼ì§ˆ ë•Œ

```
ë¼ì¸ì´ ì‚¬ë¼ì§„ë‹¤
    â”‚
    â”œâ”€â–º var ì„ ì–¸ í™•ì¸
    â”‚   â””â”€ var line myLine = na
    â”‚
    â”œâ”€â–º ë°°ì—´ ê´€ë¦¬ í™•ì¸
    â”‚   â””â”€ max_lines_count ì´ˆê³¼?
    â”‚
    â””â”€â–º ì˜ë„ì¹˜ ì•Šì€ ì‚­ì œ í™•ì¸
        â””â”€ line.delete() í˜¸ì¶œ ìœ„ì¹˜
```

## ìœ„ì¹˜ê°€ ì´ìƒí•  ë•Œ

```
ìœ„ì¹˜ê°€ ì´ìƒí•˜ë‹¤
    â”‚
    â”œâ”€â–º ë°©í–¥ í™•ì¸
    â”‚   â”œâ”€ ë§¤ìˆ˜: low ê¸°ì¤€, ì•„ë˜ë¡œ
    â”‚   â””â”€ ë§¤ë„: high ê¸°ì¤€, ìœ„ë¡œ
    â”‚
    â”œâ”€â–º ATR ê³„ì‚° í™•ì¸
    â”‚   â”œâ”€ na ì²˜ë¦¬?
    â”‚   â””â”€ ìŠ¹ìˆ˜ ì ì ˆ?
    â”‚
    â”œâ”€â–º ë ˆì´ë¸” ìŠ¤íƒ€ì¼ í™•ì¸
    â”‚   â”œâ”€ ì•„ë˜ ë°°ì¹˜: label_up
    â”‚   â””â”€ ìœ„ ë°°ì¹˜: label_down
    â”‚
    â””â”€â–º ì¢Œí‘œ ì¼ì¹˜ í™•ì¸
        â””â”€ ë¼ë²¨ Y = ë¼ì¸ Y2
```

---

# ğŸ“ ì²´í¬ë¦¬ìŠ¤íŠ¸

## ì½”ë“œ ì‘ì„± ì „ ì²´í¬

- [ ] `//@version=5` ëª…ì‹œ
- [ ] `max_lines_count=500` ì„¤ì •
- [ ] `max_labels_count=500` ì„¤ì •

## ë³€ìˆ˜ ì„ ì–¸ ì²´í¬

- [ ] ë¼ì¸ ë³€ìˆ˜: `var line myLine = na`
- [ ] ë ˆì´ë¸” ë³€ìˆ˜: `var label myLabel = na`
- [ ] ë°°ì—´ ë³€ìˆ˜: `var line[] lines = array.new_line()`
- [ ] ì „ì—­ ìŠ¤ì½”í”„ì—ì„œ ì„ ì–¸

## ì‹ í˜¸ ì¡°ê±´ ì²´í¬

- [ ] `barstate.isconfirmed` ì‚¬ìš©
- [ ] ë§¤ìˆ˜/ë§¤ë„ ìƒí˜¸ ë°°íƒ€ì  ì²˜ë¦¬
- [ ] na ê°’ ì²´í¬

## ì¢Œí‘œ ê³„ì‚° ì²´í¬

- [ ] ë§¤ìˆ˜: `low` ê¸°ì¤€
- [ ] ë§¤ë„: `high` ê¸°ì¤€
- [ ] ATR ê¸°ë°˜ ì˜¤í”„ì…‹ (ê³ ì •ê°’ X)
- [ ] na ëŒ€ì²´ê°’ ì œê³µ

## ë¼ì¸ ìƒì„± ì²´í¬

- [ ] `xloc=xloc.bar_index`
- [ ] `extend=extend.none`
- [ ] `width=1` ì´ìƒ
- [ ] `color` íˆ¬ëª…ë„ < 100
- [ ] `style=line.style_solid` (ìƒìˆ˜ ì‚¬ìš©)

## ë ˆì´ë¸” ìƒì„± ì²´í¬

- [ ] Yì¢Œí‘œ = ë¼ì¸ì˜ Y2
- [ ] ì•„ë˜ ë°°ì¹˜: `style=label.style_label_up`
- [ ] ìœ„ ë°°ì¹˜: `style=label.style_label_down`
- [ ] ê°™ì€ ì¡°ê±´ì—ì„œ ë¼ì¸ê³¼ í•¨ê»˜ ìƒì„±

## ê´€ë¦¬ ì²´í¬

- [ ] ê¸°ì¡´ ê°ì²´ ì‚­ì œ í›„ ìƒˆë¡œ ìƒì„±
- [ ] ë°°ì—´ í¬ê¸° ì œí•œ ê´€ë¦¬
- [ ] ë¼ì¸-ë ˆì´ë¸” ìŒ ë™ê¸°í™”

---

# ğŸ”‘ í•µì‹¬ ì½”ë“œ ìŠ¤ë‹ˆí«

## 1. ê¸°ë³¸ ìˆ˜ì§ì„  ìƒì„±

```pinescript
//@version=5
indicator("Basic", overlay=true, max_lines_count=500)

atr = ta.atr(14)
buySignal = ta.crossover(ta.rsi(close, 14), 30)

if buySignal and barstate.isconfirmed
    labelY = low - atr * 0.5
    line.new(bar_index, low, bar_index, labelY, 
        color=color.white, width=1, xloc=xloc.bar_index)
    label.new(bar_index, labelY, "B", 
        style=label.style_label_up, color=color.green)
```

## 2. ì„ì‹œ ë¼ì¸ ê´€ë¦¬

```pinescript
var line tempLine = na

if not barstate.isconfirmed and buySignal
    if not na(tempLine)
        line.delete(tempLine)
    tempLine := line.new(bar_index, low, bar_index, labelY,
        color=color.new(color.white, 50), style=line.style_dashed)
```

## 3. ë°°ì—´ ê¸°ë°˜ ê´€ë¦¬

```pinescript
var line[] lines = array.new_line()
var label[] labels = array.new_label()

if buySignal and barstate.isconfirmed
    // ì œí•œ ì´ˆê³¼ ì‹œ ì˜¤ë˜ëœ ê²ƒ ì‚­ì œ
    if array.size(lines) >= 100
        line.delete(array.shift(lines))
        label.delete(array.shift(labels))
    
    // ìƒˆë¡œ ì¶”ê°€
    array.push(lines, line.new(...))
    array.push(labels, label.new(...))
```

## 4. ì•ˆì „í•œ ì˜¤í”„ì…‹ ê³„ì‚°

```pinescript
atrValue = ta.atr(14)
safeOffset = na(atrValue) ? close * 0.01 : atrValue * 0.5
buyLabelY = low - safeOffset
sellLabelY = high + safeOffset
```

## 5. ìƒí˜¸ ë°°íƒ€ì  ì‹ í˜¸ ì²˜ë¦¬

```pinescript
rawBuy = ta.crossover(rsi, 30)
rawSell = ta.crossunder(rsi, 70)

buySignal = rawBuy and not rawSell
sellSignal = rawSell and not rawBuy
```

---

# ğŸ“š ì°¸ê³  ìë£Œ

## Pine Script ê³µì‹ ë¬¸ì„œ ë§í¬

- [line.new()](https://www.tradingview.com/pine-script-reference/v5/#fun_line.new)
- [label.new()](https://www.tradingview.com/pine-script-reference/v5/#fun_label.new)
- [barstate](https://www.tradingview.com/pine-script-reference/v5/#var_barstate)
- [Arrays](https://www.tradingview.com/pine-script-docs/language/arrays/)

## ë²„ì „ ì •ë³´

- **ë¬¸ì„œ ë²„ì „**: 1.0
- **Pine Script ë²„ì „**: v5
- **ìµœì¢… ì—…ë°ì´íŠ¸**: 2024
- **ì´ ì˜¤ë¥˜ ìœ í˜•**: 52ê°œ

---

# ğŸ“Œ ìš”ì•½

## ê°€ì¥ í”í•œ 5ê°€ì§€ ì˜¤ë¥˜

1. **barstate.isconfirmed ë¯¸ì‚¬ìš©** â†’ ê¹œë¹¡ì„
2. **var ë¯¸ì‚¬ìš©** â†’ ì°¸ì¡° ì†ì‹¤
3. **na ì²´í¬ ëˆ„ë½** â†’ ìƒì„± ì‹¤íŒ¨
4. **ë¼ë²¨-ë¼ì¸ ìœ„ì¹˜ ë¶ˆì¼ì¹˜** â†’ ì—°ê²° ì•ˆë¨
5. **max_lines_count ë¯¸ì„¤ì •** â†’ ìë™ ì‚­ì œ

## í™©ê¸ˆ ê·œì¹™ 5ê°€ì§€

1. í•­ìƒ `barstate.isconfirmed`ë¡œ í™•ì •ëœ ë°”ì—ì„œë§Œ ìƒì„±
2. í•­ìƒ `var`ë¡œ ë¼ì¸/ë ˆì´ë¸” ë³€ìˆ˜ ì„ ì–¸
3. í•­ìƒ `na` ì²´í¬ í›„ ìƒì„±
4. í•­ìƒ ë¼ë²¨ê³¼ ë¼ì¸ì„ ê°™ì€ ì¡°ê±´ì—ì„œ ìŒìœ¼ë¡œ ìƒì„±
5. í•­ìƒ ê¸°ì¡´ ê°ì²´ ì‚­ì œ í›„ ìƒˆë¡œ ìƒì„±

---

**END OF DOCUMENT**